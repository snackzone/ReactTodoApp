{"version":3,"sources":["webpack/bootstrap acbec2101903cc1c75a9","./frontend/todo_react.jsx","./frontend/stores/todo_store.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap acbec2101903cc1c75a9\n **/","TodoStore = require('./stores/todo_store.js');\n\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/todo_react.jsx\n **/","var _todos = {};\nvar _callbacks = [];\n\nvar TodoStore = {\n  all: function () {\n    //is this dangerous?\n    return _todos;\n  },\n  fetch: function () {\n    $.ajax(\n      {\n        method: \"GET\",\n        url: \"/api/todos\",\n        dataType: \"json\",\n        success: function (todos) {\n          var newTodos = {};\n          todos.forEach(function (todo) {\n            newTodos[todo.id] = todo;\n          });\n\n          _todos = newTodos;\n          TodoStore.changed();\n        },\n        failure: function () {\n          console.log(\"NOOO!!!\");\n        }\n      }\n    );\n  },\n  create: function (todo) {\n    $.ajax(\n      {\n        method: \"POST\",\n        url: \"/api/todos\",\n        dataType: \"json\",\n        data: todo,\n        success: function (createdTodo) {\n          _todos[createdTodo.id] = createdTodo;\n          TodoStore.changed();\n        },\n        error: function () {\n          console.log(\"We failed again!\");\n        }\n      }\n    );\n  },\n\n  destroy: function (id) {\n    if (_todos.hasOwnProperty(id)) {\n      $.ajax(\n        {\n          method: \"DELETE\",\n          url: \"/api/todos/\" + id,\n          dataType: \"json\",\n          success: function (todo) {\n            delete _todos[todo.id];\n            TodoStore.changed();\n          },\n          error: function () {\n            console.log(\"it broke.\");\n          }\n        }\n      );\n    }\n  },\n\n  toggleDone: function (id) {\n    var done = !_todos[id].done;\n    $.ajax(\n      {\n        method: \"PATCH\",\n        url: \"/api/todos/\" + id,\n        dataType: \"json\",\n        data: {todo: {done: done} },\n        success: function (todo) {\n          _todos[todo.id].done = done;\n          TodoStore.changed();\n        }\n      }\n    );\n  },\n\n  changed: function() {\n    _callbacks.forEach(function(callback) {\n      callback();\n    });\n  },\n\n  addChangedHandler: function (handler) {\n    _callbacks.push(handler);\n  },\n\n  removeChangedHandler: function (handler) {\n    var index = _callbacks.indexOf(handler);\n    if (index !== -1) {\n      _callbacks.splice(index, 1);\n    }\n  }\n\n};\n\n\nmodule.exports = TodoStore;\n\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/stores/todo_store.js\n **/"],"sourceRoot":""}